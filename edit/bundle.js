(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.editor = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
module.exports={


	"newelements": [{
		"name":"Text", 
		"html":"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam"
	}, {
		"name": "Text",
		"html": "<img src='//placekitten.com/300/250?image=4#.jpg'>"
	}, {
		"name": "Link",
		"html": "<a href='#link3'>Link 3</a>"
	}, {
		"name": "Line"
	}, {
		"name": "Tab",
		"html": "<i class='fa fa-random'> </i>tab1",
		"children": []
	}, {
		"name": "Tabs", "hor": true,
		"children":[{
			"name": "Tab",
			"html": "<i class='fa fa-user'></i> Tab 1",
			"children": [{
				"name":"Text",
				"html": "<u>Hello from tab111111</u>"
			}]
		},{
			"name": "Tab",
			"html": "<i class='fa fa-flag'></i> Tab 2",
			"children": [{
				"name":"Text",
				"html": "<em>element in tab 222222</em>"
			}]
		}]
	}, {
		"name": "Tabs",
		"children":[{
			"name": "Tab",
			"html": "<i class='fa fa-user'></i> Tab 1",
			"children": [{
				"name":"Text",
				"html": "<u>Hello from tab111111</u>"
			}]
		},{
			"name": "Tab",
			"html": "<i class='fa fa-flag'></i> Tab 2",
			"children": [{
				"name":"Text",
				"html": "<em>element in tab 222222</em>"
			}]
		}]
	},{
		"name": "Tabs", "hor": true, "slide":true,
		"children":[{
			"name": "Tab",
			"html": "Tab 1",
			"children": [{
				"name":"Text",
				"html": "<img src='//placekitten.com/400/350?image=5#.jpg'>"
			}]
		},{
			"name": "Tab",
			"html": "Tab 2",
			"children": [{
				"name":"Text",
				"html": "<img src='//placekitten.com/400/350?image=6#.jpg'>"
			}]
		},{
			"name": "Tab",
			"html": "Tab 3",
			"children": [{
				"name":"Text",
				"html": "<img src='//placekitten.com/400/350?image=7#.jpg'>"
			}]
		},{
			"name": "Tab",
			"html": "Tab 4",
			"children": [{
				"name":"Text",
				"html": "<img src='//placekitten.com/400/350?image=8#.jpg'>"
			}]
		},{
			"name": "Tab",
			"html": "Tab 5",
			"children": [{
				"name":"Text",
				"html": "<img src='//placekitten.com/400/350?image=9#.jpg'>"
			}]
		}]
	}],

	"styles": {
		"nav":  ["Background"],
		"header": ["Width"],
		"text": ["Font Family", "Font Size", "Margin" ],
		"tab": ["Background", "Padding"],
		"accordion": ["Color"],
		"line": ["Margin"]

		}


}
},{}],2:[function(require,module,exports){
(function (global){
"use strict";var React=(typeof window !== "undefined" ? window['React'] : typeof global !== "undefined" ? global['React'] : null),Component=require("./Component.js"),actions=require("./actions.js"),_require=require("./utils.js"),v=_require.v,accordion=_require.accordion,switcher=_require.switcher,styleField=_require.styleField,equals=_require.equals,popOver=_require.popOver,popOverCrop=_require.popOverCrop,contains=_require.contains,clone=_require.clone,clearSel=_require.clearSel,_require2=require("../config.json"),newelements=_require2.newelements,styles=_require2.styles,random=Math.random,round=Math.round,ceil=Math.ceil,min=Math.min,max=Math.max,abs=Math.abs,layouts=require("../../isomorphic/layouts.js"),components=require("../../isomorphic/components.js"),componentsDefault=components(),layoutsEdit=layouts(components(Component)),layoutsDefault=layouts(componentsDefault);module.exports=React.createClass({shouldComponentUpdate:function(e,t){return!equals(t,this.state)},getInitialState:function(){return this.history=[this.props.page],this.historyI=0,{page:this.props.page,scratchpad:newelements,trash:[],edit:!0}},componentDidMount:function(){var e=this;window.addEventListener("resize",function(t){e.refs.sel.style.left&&e.refs.sel.css({left:""}),e.refs.cr.style.left&&e.refs.cr.css({left:""})}),window.addEventListener("scroll",function(t){e.refs.sel.style.left&&e.refs.sel.css({left:""})}),document.addEventListener("selectionchange",function(t){e.refs.sel.style.left&&e.refs.sel.css({left:""})}),this.refs.page.addEventListener("swipe",function(t){e.refs.sel.css({left:""}),clearSel()}),this.refs.page.addEventListener("transitionend",function(t){e.refs.sel.css({left:""}),document.activeElement.isContentEditable&&window.dispatchEvent(new Event("resize"))})},resetWidth:function(){var e=this.resize,t=e.el,s=e.node;t.css({flexGrow:"",maxWidth:""}),s.style=Object.assign({},s.style),delete s.style.flex,delete s.style.maxWidth},undo:function(e){this.historyI<this.history.length-1&&(this.setState({page:this.history[++this.historyI]}),this.refs.sel.css({left:""}))},redo:function(e){this.historyI>0&&(this.setState({page:this.history[--this.historyI]}),this.refs.sel.css({left:""}))},toggleEdit:function(){var e=arguments.length<=0||void 0===arguments[0]?!this.state.edit:arguments[0];this.setState({edit:e}),this.refs.sel.css({left:""}),this.refs.wysi&&this.refs.wysi.setState({img:null,aR:null})},dragStart:function(e,t){var s=this;this.state.selNode&&(this.dragNode=this.state.selNode,e.stopPropagation(),e.dataTransfer.setData("text/custom","dnd"),e.dataTransfer.effectAllowed=t,e.dataTransfer.setDragImage(this.state.selEl,0,0),this.refs.cr.css({left:""}),this.refs.page.classList.add("drag"),setTimeout(function(e){return s.refs.sel.css(popOverCrop(s.state.selEl.rect()))},10))},drop:function(e){var t=e.dataTransfer.effectAllowed;if("move"===t||"copy"===t){e.preventDefault(),e.stopPropagation();var s=this.dragNode,r=this.dropNode,a=void 0===r?s:r,n=this.dropSide,i=void 0===n?1:n;"copy"===t&&(s=clone(s)),this.updateDnd(t,s,a,i),this.dragEnd(e)}},updateDnd:function(e,t,s,r){var a=clone(this.state.page),n=Object.assign({},this.state.page),i=void 0,o=void 0;t.parent&&(i=t.parent.children.indexOf(t),o=t.parent.children.length),t.parent&&t.parent.children.splice(t.parent.children.indexOf(t),1),s&&actions.add(t,s,r),t.parent&&actions.clean(t.parent),t.parent&&t.parent.children.length===o&&t.parent.children.indexOf(t)===i||(this.history=[n,a].concat(this.history.slice(this.historyI+1)),this.historyI=0),this.setState({page:n})},update:function(e,t){var s=clone(this.state.page),r=Object.assign({},this.state.page);Object.assign(e,t),this.setState({page:r}),this.history=[r,s].concat(this.history.slice(this.historyI+1)),this.historyI=0},dragEnd:function(e,t){this.refs.caret.css({left:""}),this.refs.sel.css({left:""}),this.dragNode=null,this.refs.page.classList.remove("drag");for(var s=this.refs.sb.querySelectorAll(".page.over"),r=Array.isArray(s),a=0,s=r?s:s[Symbol.iterator]();;){var n;if(r){if(a>=s.length)break;n=s[a++]}else{if(a=s.next(),a.done)break;n=a.value}var i=n;i.classList.remove("over")}window.dispatchEvent(new Event("resize")),t&&t()},dragStartThumb:function(e,t){var s=arguments.length<=2||void 0===arguments[2]?"copy":arguments[2];e.stopPropagation(),e.dataTransfer.effectAllowed=s,e.dataTransfer.setData("text/custom",""),this.dragNode=t,this.refs.page.classList.add("drag"),this.refs.sel.css({left:""})},dragOver:function(e){e.stopPropagation(),e.preventDefault(),e.currentTarget.classList.add("over")},dragLeave:function(e){e.currentTarget.classList.remove("over")},dropThumb:function(e){if("copy"!==e.dataTransfer.effectAllowed){e.preventDefault(),e.stopPropagation();var t=this.dragNode;this.setState({scratchpad:this.state.scratchpad.concat([clone(t)])}),this.dragEnd(e)}},dropTrash:function(e){e.preventDefault(),e.stopPropagation();var t=this.dragNode,s=e.dataTransfer.effectAllowed;"move"===s?this.updateDnd(s,t):"copy"===s&&this.setState({scratchpad:this.state.scratchpad.filter(function(e){return e!==t})}),this.setState({trash:this.state.trash.concat([clone(t)])}),this.dragEnd(e)},startResize:function(e){var t=this,s=this.resize,r=s.node,a=s.el,n=s.r,i=void 0;r.parent.hor?(i=Array.prototype.reduce.call(a.parentNode.children,function(e,t){return+getComputedStyle(t).flexGrow+e},0)||1,r.style||(r.style={}),this.refs.cr.lastChild.textContent=+getComputedStyle(a).flexGrow||""):this.refs.cr.lastChild.textContent=+getComputedStyle(a).maxWidth||"",this.refs.sel.css({left:""}),this.refs.wysi&&(this.refs.wysi.refs.el.hidden=!0),this.resizing=!0;var o=function(s){if(1===e){var o=min(s.clientX,n.right+window.scrollX);t.refs.cr.css({left:o+"px",top:n.top+window.scrollY+"px",width:n.right-o+"px"})}else t.refs.cr.style.width=s.clientX-n.left-window.scrollX+"px";if(r.parent.hor){var l=+getComputedStyle(a).flexGrow,c=ceil(i*t.refs.cr.offsetWidth/a.parentNode.offsetWidth);if(c===l)return;r.style=Object.assign({},r.style),a.style.flexGrow=r.style.flex=c,i=Array.prototype.reduce.call(a.parentNode.children,function(e,t){return+getComputedStyle(t).flexGrow+e},0)||1,n=a.rect(),t.refs.cr.css(popOver(n)),t.refs.cr.lastChild.textContent=c}else r.style=Object.assign({},r.style),r.style.maxWidth=t.refs.cr.offsetWidth,a.style.maxWidth=t.refs.cr.offsetWidth+"px",n=a.rect(),t.refs.cr.css(popOver(n)),t.refs.cr.lastChild.textContent=r.style.maxWidth},l=function c(e){document.removeEventListener("mouseup",c),document.removeEventListener("mousemove",o),t.refs.cr.lastChild.textContent="",t.resizing=!1,t.refs.sel.css({left:""}),t.refs.wysi&&(t.refs.wysi.refs.el.hidden=!1)};document.addEventListener("mouseup",l),document.addEventListener("mousemove",o)},startSbResize:function(){var e=this;this.refs.sel.css({left:""}),this.refs.wysi&&(this.refs.wysi.refs.el.hidden=!0);var t=function(t){var s=max(0,t.clientX);e.refs.page.style.marginLeft=e.refs.sb.style.width=e.refs.sbr.style.left=s+"px"},s=function r(s){document.removeEventListener("mouseup",r),document.removeEventListener("mousemove",t),clearSel(),e.refs.wysi&&(e.refs.wysi.refs.el.hidden=!1)};document.addEventListener("mouseup",s),document.addEventListener("mousemove",t)},up:function(){this.state.selEl.parentNode&&this.state.selEl.parentNode.dispatchEvent(new MouseEvent("mouseover",{bubbles:!0}))},render:function(){var e=this,t=this.state,s=t.page,r=t.scratchpad,a=t.trash,n=t.selNode,i=void 0===n?{}:n,o=t.selEl,l=t.focusNode,c=void 0===l?{}:l,d=t.edit;return v("div",{className:"app",onDragEnd:this.dragEnd},v(this.props.wysi,{ref:"wysi"},"Tabs"===c.name&&v("div",{className:"dropdown hover opts"},v("button",v("i",{className:"fa fa-gear"})),v("div",switcher({name:"hor",isOn:Boolean(c.hor),off:"Accordion",on:"Tabs",onChange:function(t){return e.update(c,{hor:t})}}),!c.hor&&switcher({name:"coll",isOn:Boolean(c.collapse),off:"Toggle",on:"Collapse",onChange:function(t){return e.update(c,{collapse:t})}}),c.hor&&switcher({name:"slide",isOn:Boolean(c.slide),off:"Basic",on:"Slide",onChange:function(t){return e.update(c,{slide:t})}}),c.hor&&switcher({name:"left",isOn:Boolean(c.left),off:"Top",on:"Left",onChange:function(t){return e.update(c,{left:t})}})))),v("div",{className:"sb",ref:"sb"},accordion({name:"menu",children:[{label:[v("span",{key:1},"components"),v("button",{key:2,onClick:function(t){return e.toggleEdit()}},v("i",{className:"fa fa-eye"+(d?"":"-slash"),title:(d?"Visualize":"Edit")+" page"})),v("button",{disabled:this.historyI===this.history.length-1,key:3,onClick:this.undo},v("i",{className:"fa fa-mail-reply"})),v("button",{disabled:0===this.historyI,key:4,onClick:this.redo},v("i",{className:"fa fa-mail-forward"}))],content:v("div",v("div",{className:"page scratchpad",ref:"sp",title:"Drag components here to copy them",onDrop:this.dropThumb,onDragOver:this.dragOver,onDragLeave:this.dragLeave},r.map(function(t,s){return v("div",{key:s,className:"thumb",draggable:!0,title:t.name,onDragStart:function(s){return e.dragStartThumb(s,t)},onDragEnd:e.dragEnd},v(componentsDefault[t.name],{node:t}))})),v("div",{className:"trash page",onDrop:this.dropTrash,onDragOver:this.dragOver,onDragLeave:this.dragLeave},v("i",{className:"fa fa-trash-o"}),a.length&&v("div",{className:"thumb",draggable:!0,title:a[a.length-1].name,onDragEnd:function(t){return e.dragEnd(t,function(t){return e.setState({trash:a.slice(0,-1)})})},onDragStart:function(t){return e.dragStartThumb(t,a[a.length-1],"move")}},v("div",{className:"thumb"},v(componentsDefault[a[a.length-1].name],{node:a[a.length-1]})))))},{label:v("span","layouts"),content:v("ul",["Splash","Home"].map(function(t){return v("li",{key:t,className:s.layout===t?"selected":"",onClick:function(r){return e.setState({page:Object.assign({},s,{layout:t})})}},t)}))},{label:v("span","options"),content:v("div","todo: page options")},{label:v("span","style"),content:v("ul",{className:"style"},Object.keys(styles).map(function(e){return v("li",{key:e},v("h4",e),styles[e].map(function(t){return styleField({label:t,name:"--"+e+t.replace(/ /g,"")})}))}))}]})),v("div",{className:"sbr",ref:"sbr",onMouseDown:this.startSbResize}),v("div",{className:"caret",ref:"caret"}),v("div",{className:"resizer",ref:"cr",onDoubleClick:this.resetWidth},v("div",{onMouseDown:function(t){return e.startResize(1)}}),v("div",{onMouseDown:function(t){return e.startResize(2)}}),v("span")),v("div",{className:"page",ref:"page",onDrop:this.drop},v((d?layoutsEdit:layoutsDefault)[s.layout],{page:s,app:this})),v("div",{className:"sel",ref:"sel",style:o&&popOverCrop(o.rect()),draggable:!0,title:i.name+"\nClick to reach the parent element",onMouseOver:function(e){},onDragStart:function(t){return e.dragStart(t,"move")}},v("div",{onClick:this.up}),v("div",{onClick:this.up})))}});

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../../isomorphic/components.js":7,"../../isomorphic/layouts.js":8,"../config.json":1,"./Component.js":3,"./actions.js":4,"./utils.js":5}],3:[function(require,module,exports){
(function (global){
"use strict";var React=(typeof window !== "undefined" ? window['React'] : typeof global !== "undefined" ? global['React'] : null),_require=require("./utils.js"),argMin=_require.argMin,equals=_require.equals,popOver=_require.popOver,sideRect=_require.sideRect,contains=_require.contains,min=Math.min,max=Math.max,pow=Math.pow,distance=function(e,t){return pow(max(0,t.left-e.clientX,e.clientX-t.right),2)+pow(max(0,t.top-e.clientY,e.clientY-t.bottom),2)};module.exports=React.createClass({componentDidMount:function(){this.props.node.el=this.refs.el},componentDidUpdate:function(){this.props.node.el=this.refs.el},mouseEnter:function(e){var t=this.props,r=t.node,n=t.app;if(!n.resizing&&"Line"!==r.name&&"Link"!==r.name&&r.parent&&"List"===r.parent.name){var i=this.refs.el.rect();n.resize={node:r,el:this.refs.el,r:i},n.refs.cr.css(popOver(i)),e.stopPropagation()}},mouseOver:function(e){e.stopPropagation();var t=this.props,r=t.node,n=t.app;!n.resizing&&r.parent&&n.setState({selNode:r,selEl:this.refs.el})},dragOver:function(e){e.stopPropagation();var t=this.props,r=t.node,n=t.app,i=t.app.dragNode,s=void 0,o=void 0;if(i&&!contains(i,r)&&("Tab"===r.name||"Tab"!==i.name)&&(r.parent||r.children)){if(e.preventDefault(),"Tab"===r.name){var a=this.refs.el.rect();"Tab"===i.name?(s=r.parent.hor&&!r.parent.left?1+2*argMin(a.right-e.clientX,e.clientX-a.left):2*argMin(e.clientY-a.top,a.bottom-e.clientY),o=sideRect[s](a)):o=popOver(a)}else if(r.children)if(0===r.children.length)o=popOver(this.refs.el.rect());else{for(var c=0,l=r.children[c].el.rect(),p=distance(e,l),d=1;d<r.children.length;d++){var h=r.children[d].el.rect(),u=distance(e,h);p>u&&(p=u,l=h,c=d)}r=r.children[c],s=argMin(e.clientY-l.top,l.right-e.clientX,l.bottom-e.clientY,e.clientX-l.left),o=sideRect[s](l)}else{var f=this.refs.el.rect();s=argMin(e.clientY-f.top,f.right-e.clientX,f.bottom-e.clientY,e.clientX-f.left),o=sideRect[s](f)}Object.assign(n,{dropNode:r,dropSide:s}),n.refs.caret.css(o)}},focus:function(e){e.stopPropagation();var t=this.props,r=t.app,n=t.node;"Link"!==n.name&&r.refs.wysi.setState({ce:e.target,cm:!1,xs:"Tab"===n.name}),r.setState({focusNode:"Tab"===n.name?n.parent:n,selNode:void 0,selEl:void 0})},blur:function(e){var t=this.props,r=t.node,n=(t.app,this.refs.el.isContentEditable?this.refs.el:this.refs.el.querySelector("[contenteditable]"));r.html&&r.html!==n.innerHTML&&(r.html=n.innerHTML)},attr:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return Object.assign(e,{onDragOver:this.dragOver,onMouseOver:this.mouseOver,onMouseEnter:this.mouseEnter},t)},contentEditable:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return Object.assign(e,{contentEditable:!0,onBlur:this.blur,onFocus:this.focus})},render:function(){}});

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./utils.js":5}],4:[function(require,module,exports){
"use strict";var floor=Math.floor;module.exports={add:function(e,n,r){var a=floor((r+1)/2)%2;if("List"===n.name&&(n.hor&&r%2===1||!n.hor&&r%2===0||!n.parent)||"Tab"===n.name&&"Tab"!==e.name){var i="List"===e.name&&!n.hor==!e.hor?e.children:[e];n.children=a?[].concat(n.children,i):[].concat(i,n.children)}else if("List"!==n.name&&"Tab"!==n.name&&(n.parent.hor&&r%2===0||!n.parent.hor&&r%2===1)){var c="List"===e.name&&!n.parent.hor!=!e.hor?e.children:[e];n.parent.children.splice(n.parent.children.indexOf(n),1,{name:"List",hor:!n.parent.hor,children:a?[n].concat(c):[].concat(c,[n])})}else{var t,l="List"===e.name&&!n.parent.hor==!e.hor?e.children:[e];(t=n.parent.children).splice.apply(t,[n.parent.children.indexOf(n)+a,0].concat(l))}},clean:function(e){if("List"===e.name&&e.parent){var n=e.parent.children.indexOf(e);if(e.children.length>1&&!e.hor==!e.parent.hor){var r;(r=e.parent.children).splice.apply(r,[n,1].concat(e.children))}else if(1===e.children.length){var a=e.children[0];if("List"===a.name&&"List"===e.parent.name&&!a.hor==!e.parent.hor){var i;(i=e.parent.children).splice.apply(i,[n,1].concat(a.children))}else e.parent.children.splice(n,1,a)}}for(;("List"===e.name||"Tabs"===e.name)&&e.children&&0===e.children.length&&e.parent;)e.parent.children.splice(e.parent.children.indexOf(e),1),e=e.parent}};

},{}],5:[function(require,module,exports){
(function (global){
"use strict";var React=(typeof window !== "undefined" ? window['React'] : typeof global !== "undefined" ? global['React'] : null),v=function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];return!e||React.isValidElement(e)||"string"==typeof e||Array.isArray(e)?React.createElement.apply(React,[t,void 0,e].concat(r)):React.createElement.apply(React,[t,e].concat(r))},max=Math.max,bodyR=document.createRange();bodyR.setStart(document.body,0);var REPLACER=function(t,e){return"parent"===t||"el"===t?void 0:e};module.exports={v:v,accordion:function(t){var e=t.name,n=t.children,r=void 0===n?[]:n,o=t.index,i=void 0===o?0:o;return v("div",{className:"accordion "+e},r.map(function(t,n){return v("input",{key:n,type:"checkbox",defaultChecked:n===i,name:e,id:e+"_"+n})}),v("ul",r.map(function(t,n){var r=t.label,o=t.content;return v("li",{key:n},v("label",{htmlFor:e+"_"+n},r),o)})))},switcher:function(t){var e=t.name,n=t.isOn,r=t.on,o=t.off,i=t.onChange;return v("div",{className:"switch"},v("input",{id:e+0,name:e,type:"radio",checked:n,onChange:function(t){return i(!0)}}),v("label",{htmlFor:e+0},r),v("input",{id:e+1,name:e,type:"radio",checked:!n,onChange:function(t){return i(!1)}}),v("label",{htmlFor:e+1},o))},styleField:function(t){var e=t.label,n=t.name;return v("label",{key:e},v("span",e),v("input",{defaultValue:getComputedStyle(document.body).getPropertyValue(n),onChange:function(t){return document.body.style.setProperty(n,t.target.value)}}))},equals:function(t,e){for(var n in t)if(t[n]!==e[n])return!1;return!0},clone:function(t){return JSON.parse(JSON.stringify(t,REPLACER))},popOver:function(t){return{left:t.left+window.scrollX+"px",top:t.top+window.scrollY+"px",width:t.width+"px",height:t.height+"px"}},popOverCrop:function(t){var e=max(0,t.top);return{left:t.left+window.scrollX+"px",top:e+window.scrollY+"px",width:t.width+"px",height:t.bottom-e+"px"}},argMin:function(){for(var t=0,e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];for(var o=1;o<n.length;o++)n[o]<n[t]&&(t=o);return t},sideRect:[function(t){var e=t.top,n=(t.height,t.left),r=t.width;return{left:n-3+window.scrollX+"px",top:e-3+window.scrollY+"px",width:r+6+"px",height:0}},function(t){var e=t.top,n=t.height,r=t.right;t.width;return{left:r-3+window.scrollX+"px",top:e-3+window.scrollY+"px",width:0,height:n+6+"px"}},function(t){var e=t.bottom,n=(t.height,t.left),r=t.width;return{left:n-3+window.scrollX+"px",top:e-3+window.scrollY+"px",width:r+6+"px",height:0}},function(t){var e=t.top,n=t.height,r=t.left;t.width;return{left:r-3+window.scrollX+"px",top:e-3+window.scrollY+"px",width:0,height:n+6+"px"}}],contains:function(t,e){for(var n=t===e,r=e;!n&&r.parent;){if(r=r.parent,t.parent===r)return!1;n=t===r}return n},clearSel:function(){getSelection().setRange(bodyR),document.activeElement.dispatchEvent(new MouseEvent("blur"))}};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],6:[function(require,module,exports){
"use strict";var floor=Math.floor,random=Math.random,min=Math.min,max=Math.max,abs=Math.abs,sign=Math.sign,round=Math.round,rand=function(e){return floor(1296*random()).toString(36)},swipeThreshold=5,server="undefined"==typeof window,openDropdown=function(){var e=arguments.length<=0||void 0===arguments[0]?"a":arguments[0];return function(t){var r=t.currentTarget,n=function(e){r.parentNode.contains(e.target)||i(!1)},o=function(t){t.target.matches(e)&&i(!1)},a=function(e){27===e.keyCode&&i(!1)},i=function(){var t=arguments.length<=0||void 0===arguments[0]?!r.classList.contains("selected"):arguments[0];t?(document.addEventListener("mousedown",n),document.addEventListener("keydown",a),e&&r.nextElementSibling.addEventListener("mouseup",o)):(document.removeEventListener("mousedown",n),document.removeEventListener("keydown",a),e&&r.nextElementSibling.removeEventListener("mouseup",o)),r.classList.toggle("selected",t)};i()}},openTab=function(e){e.classList.add("selected"),e.lastChild.style.maxHeight="";var t=e.lastChild.offsetHeight;e.lastChild.style.maxHeight=0,setTimeout(function(r){e.lastChild.style.maxHeight=t+"px"},10)},closeTab=function(e){e.lastChild.style.maxHeight=e.lastChild.offsetHeight+"px",setTimeout(function(t){e.classList.remove("selected"),e.lastChild.style.maxHeight=""},10)},transitionEnd=function(e){e.currentTarget.lastChild.style.maxHeight=""},change=function(e,t,r){if(e.currentTarget.classList.contains("selected")?e.currentTarget.firstChild.contains(e.target)&&closeTab(e.currentTarget):openTab(e.currentTarget),!t)for(var n=e.currentTarget.parentNode.children,o=Array.isArray(n),a=0,n=o?n:n[Symbol.iterator]();;){var i;if(o){if(a>=n.length)break;i=n[a++]}else{if(a=n.next(),a.done)break;i=a.value}var s=i;s!==e.currentTarget&&s.classList.contains("selected")&&closeTab(s)}},swipe=function(e){var t=e.touches?e.touches[0]:e,r=t.clientX,n=t.clientY,o=e.currentTarget,a=o.childElementCount,i=o.parentNode.querySelector("input:checked"),s=i?Array.prototype.indexOf.call(i.parentNode.children,i):0,l=o.matches(".left > *");o.style.transition="none";var c=function u(e){document.removeEventListener("mouseup",u),document.removeEventListener("touchEnd",u),document.removeEventListener("mousemove",d),document.removeEventListener("touchmove",d),Object.assign(o.style,{transform:"",transition:""})},d=function(e){var t=e.touches?e.touches[0]:e,i=t.clientX,d=t.clientY;if(abs(e.movementX)<swipeThreshold&&!l){var u=100*((i-r)/o.offsetWidth-s);return void(o.style.transform="translateX("+u+"%)")}if(abs(e.movementY)<swipeThreshold&&l){var v=100*((d-n)/o.offsetHeight-s);return void(o.style.transform="translateY("+v+"%)")}c();var f=sign(e.movementX?l?e.movementY:e.movementX:l?d-n:i-r);o.parentNode.children[(s-f+a)%a].checked=!0,o.dispatchEvent(new CustomEvent("swipe",{bubbles:!0,details:f}))};document.addEventListener("mouseup",c),document.addEventListener("touchEnd",c),document.addEventListener("mousemove",d),document.addEventListener("touchmove",d)},tabChange=function(e,t,r){var n=e.currentTarget.parentNode.parentNode.children[t];n.checked=!0,r||setTimeout(function(e){return n.focus()})};if("undefined"!=typeof module)module.exports=function(e){return{tabs:function(t){var r=t.id,n=t.name,o=void 0===n?"_"+(r||rand()):n,a=t.left,i=t.ref,s=t.index,l=void 0===s?0:s,c=t.style,d=t.slide,u=t.children,v=void 0===u?[]:u,f=t.onDragOver,m=t.onMouseOver,h=t.onMouseEnter;return e("div",{className:"tabs "+(d?" slide":"")+(a?" left":""),ref:i,style:c,onDragOver:f,onMouseOver:m,onMouseEnter:h},v.map(function(t,r){return e("input",{key:r,type:"radio",defaultChecked:r===l,name:o})}),e("ol",{className:"labels"},v.map(function(t,r){var n=t.label;return e("li",{key:"l"+r,onMouseDown:function(e){return tabChange(e,r,f)}},n)})),e("ol",{className:"contents",onMouseDown:d&&swipe,onTouchStart:d&&swipe},v.map(function(t,r){var n=t.content;return e("li",{key:"c"+r,onDragStart:function(e){return e.preventDefault()}},n)})))},accordion:function(t){var r=t.className,n=void 0===r?"":r,o=t.style,a=t.ref,i=t.collapse,s=t.index,l=void 0===s?0:s,c=t.children,d=void 0===c?[]:c,u=t.onDragOver,v=t.onMouseOver,f=t.onMouseEnter;return e("ul",{className:"accordion "+n,"data-collapse":server&&i,ref:a,style:o,onDragOver:u,onMouseOver:v,onMouseEnter:f},d.map(function(t,r){var n=t.label,o=t.content;return e("li",{key:r,className:r===l?"selected":null,onClick:function(e){return change(e,i,u)},onTransitionEnd:transitionEnd},n,o)}))},dropdown:function(t){var r=t.className,n=void 0===r?"":r,o=t.label,a=t.ref,i=t.style,s=t.content,l=t.closeOn,c=void 0===l?"a":l,d=t.onDragOver,u=t.onMouseOver,v=t.onMouseEnter;return e("div",{className:"dropdown "+n,ref:a,style:i,onDragOver:d,onMouseOver:u,onMouseEnter:v},e("button",{onMouseDown:!n.includes("hover")&&openDropdown(c),"data-close-on":server&&c},o),s)}}};else{for(var _iterator2=document.querySelectorAll(".tabs"),_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref11;if(_isArray2){if(_i2>=_iterator2.length)break;_ref11=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref11=_i2.value}for(var el=_ref11,labels=el.querySelectorAll(".labels > li"),_loop=function(e){labels[e].addEventListener("mousedown",function(t){return tabChange(t,e)})},i=0;i<labels.length;i++)_loop(i);el.classList.contains("slide")&&(el.querySelector(".contents").addEventListener("mousedown",swipe),el.querySelector(".contents").addEventListener("touchstart",swipe))}for(var _loop2=function(){if(_isArray3){if(_i3>=_iterator3.length)return"break";_ref12=_iterator3[_i3++]}else{if(_i3=_iterator3.next(),_i3.done)return"break";_ref12=_i3.value}for(var e=_ref12,t=e.children,r=Array.isArray(t),n=0,t=r?t:t[Symbol.iterator]();;){var o;if(r){if(n>=t.length)break;o=t[n++]}else{if(n=t.next(),n.done)break;o=n.value}var a=o;a.addEventListener("click",function(t){return change(t,e.dataset.collapse)})}},_iterator3=document.querySelectorAll(".accordion"),_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[Symbol.iterator]();;){var _ref12,_ret2=_loop2();if("break"===_ret2)break}for(var _iterator4=document.querySelectorAll(".dropdown:not(.hover) > :first-child"),_isArray4=Array.isArray(_iterator4),_i4=0,_iterator4=_isArray4?_iterator4:_iterator4[Symbol.iterator]();;){var _ref13;if(_isArray4){if(_i4>=_iterator4.length)break;_ref13=_iterator4[_i4++]}else{if(_i4=_iterator4.next(),_i4.done)break;_ref13=_i4.value}var _el=_ref13;_el.addEventListener("mousedown",openDropdown(_el.dataset.closeOn))}}

},{}],7:[function(require,module,exports){
(function (global){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var React=(typeof window !== "undefined" ? window['React'] : typeof global !== "undefined" ? global['React'] : null),v=function(){for(var t=arguments.length,e=Array(t>2?t-2:0),n=2;t>n;n++)e[n-2]=arguments[n];var r=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],o=arguments[1];return!o||React.isValidElement(o)||"string"==typeof o||Array.isArray(o)?React.createElement.apply(React,[r,void 0,o].concat(e)):React.createElement.apply(React,[r,o].concat(e))},DefaultComponent=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(e,t),e.prototype.attr=function(t){return t},e.prototype.contentEditable=function(t){return t},e}(React.Component),_require=require("../inui/")(v),tabs=_require.tabs,accordion=_require.accordion,dropdown=_require.dropdown;module.exports=function(){var t=arguments.length<=0||void 0===arguments[0]?DefaultComponent:arguments[0],e={List:function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(n,t),n.prototype.render=function(){var t=this.props,n=t.node,r=t.app,o=t.className,i=void 0===o?"":o,s=t.tag,a=void 0===s?"div":s;return v(a,this.attr({ref:"el",className:(n.hor?"row":"col")+" "+i,style:n.style}),n.children.map(function(t,o){return v(e[t.name],{key:o,app:r,node:Object.assign(t,{parent:n})})}))},n}(t),Text:function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(e,t),e.prototype.render=function(){var t=this.props,e=t.node,n=e.html,r=e.style,o=t.className,i=void 0===o?"":o,s=t.tag,a=void 0===s?"div":s;return v(a,this.attr({ref:"el",className:"text "+i,style:r,dangerouslySetInnerHTML:{__html:n}},this.contentEditable()))},e}(t),Line:function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(e,t),e.prototype.render=function(){var t=this.props.node.cls,e=void 0===t?"":t;return v("hr",this.attr({ref:"el",className:"line "+e}))},e}(t),Tabs:function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(n,t),n.prototype.render=function(){var t=this.props,n=t.node,r=t.app,o=n.style,i=n.id,s=n.slide,a=n.left,l=n.collapse,c=n.index,p=n.hor?tabs:accordion;return p(this.attr({ref:"el",style:o,id:i,slide:s,left:a,collapse:l,index:c,children:n.children.map(function(t){return{label:v(e.Tab,{app:r,node:Object.assign(t,{parent:n})}),content:v(e.TabContent,{app:r,node:t})}})}))},n}(t),Tab:function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(e,t),e.prototype.render=function(){var t=this.props.node,e=t.html,n=t.style;return v("div",this.attr({ref:"el",style:n}),v("span",this.contentEditable({className:"text xs",dangerouslySetInnerHTML:{__html:e}})))},e}(t),TabContent:function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(n,t),n.prototype.render=function(){var t=this.props,n=t.node,r=t.app;return v("div",this.attr({ref:"el"}),n.children.map(function(t,o){return v(e[t.name],{key:o,app:r,node:Object.assign(t,{parent:n})})}))},n}(t),Dropdown:function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(n,t),n.prototype.render=function(){var t=this.props,n=t.node,r=t.app;return dropdown(this.attr({ref:"el",label:v("span",{dangerouslySetInnerHTML:{__html:n.label}}),content:v("ul",n.children.map(function(t,o){return v("li",{key:o},v(e[t.name],{app:r,node:Object.assign(t,{parent:n})}))}))}))},n}(t),Link:function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(e,t),e.prototype.render=function(){return v("div",this.attr({ref:"el",className:"text link",dangerouslySetInnerHTML:{__html:this.props.node.html}},this.contentEditable()))},e}(t)};return e};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../inui/":6}],8:[function(require,module,exports){
(function (global){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var React=(typeof window !== "undefined" ? window['React'] : typeof global !== "undefined" ? global['React'] : null),v=function(){for(var e=arguments.length,t=Array(e>2?e-2:0),n=2;e>n;n++)t[n-2]=arguments[n];var r=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],o=arguments[1];return!o||React.isValidElement(o)||"string"==typeof o||Array.isArray(o)?React.createElement.apply(React,[r,void 0,o].concat(t)):React.createElement.apply(React,[r,o].concat(t))},Page=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.props.page!==e.page},t}(React.Component);module.exports=function(){var e=arguments.length<=0||void 0===arguments[0]?require("./components.js")():arguments[0];return{Splash:function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(n,t),n.prototype.render=function(){var t=this.props,n=t.page,r=t.app,o=n.regions,a=o.main;o.nav;return v("div",{className:"splash"},v("main",v(e[a.name],{node:a,app:r})))},n}(Page),Home:function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(n,t),n.prototype.render=function(){var t=this.props,n=t.page,r=t.app,o=n.regions,a=o.main,i=o.header,s=o.footer,p=(o.sidebar,o.nav),c=o.logo;return v("div",{className:"home"},v("nav",v(e[c.name],{node:c,app:r,className:"logo"}),v(e[p.name],{node:p,app:r})),v("header",v(e[i.name],{node:i,app:r})),v("main",v(e[a.name],{node:a,app:r})),v("footer",v(e[s.name],{node:s,app:r})))},n}(Page)}};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./components.js":7}]},{},[2])(2)
});